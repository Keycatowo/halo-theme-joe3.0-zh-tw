(()=>{"use strict";function n(n,i){for(var a=0;a<i.length;a++){var e=i[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function i(i,n){var a,e=Object.keys(i);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(i),n&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),e.push.apply(e,a)),e}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach(function(n){var i,a;i=e,a=t[n=n],n in i?Object.defineProperty(i,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[n]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}o=function n(i,a,e,t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.name=i,this.description=a,this.category=e,this.style=t,this.extension=["tieba"].includes(e)?"gif":"png"},e&&n(o.prototype,e),t&&n(o,t),Object.defineProperty(o,"prototype",{writable:!1});var a,e=o,t=[new e("kuxiao","哭笑","haha"),new e("heng","哼","haha"),new e("guzhang","鼓掌","haha"),new e("haha","哈哈","haha"),new e("aini","愛你","haha"),new e("bazhang","巴掌","haha"),new e("beishang","悲傷","haha"),new e("han","汗","haha"),new e("deyi","得意","haha"),new e("ok","ok","haha"),new e("touxiao","偷笑","haha"),new e("wabikong","挖鼻孔","haha"),new e("weiqu","委屈","haha"),new e("weixiao","微笑","haha"),new e("huaixiao","壞笑","haha"),new e("woshou","握手","haha"),new e("wulian","捂臉","haha"),new e("xiaku","嚇哭","haha"),new e("xiaoku","笑哭","haha"),new e("xixi","嘻嘻","haha"),new e("qinqin","親親","haha"),new e("qiwang","期望","haha"),new e("chanzui","饞嘴","haha"),new e("huaxin","花心","haha"),new e("hufen","互粉","haha"),new e("keai","可愛","haha"),new e("kelian","可憐","haha"),new e("bishi","鄙視","haha"),new e("bizui","閉嘴","haha"),new e("yep","耶","haha"),new e("zan","贊","haha"),new e("yihuo","疑惑","haha"),new e("yinxiao","陰笑","haha"),new e("yiwen","疑問","haha"),new e("bujiandan","不簡單","haha"),new e("bye","拜拜","haha"),new e("chigua","吃瓜","haha"),new e("chijing","吃驚","haha"),new e("chuitou","錘頭","haha"),new e("dahaqian","打哈欠","haha"),new e("fahuo","發火","haha"),new e("bang","棒","haha"),new e("gou","狗","haha"),new e("guolai","過來","haha"),new e("haixiu","害羞","haha"),new e("hashiiqi","哈士奇","haha"),new e("heixian","黑線","haha"),new e("kouzhao","口罩","haha"),new e("kulou","骷髏","haha"),new e("kun","困","haha"),new e("landelini","懶得理你","haha"),new e("mao","貓","haha"),new e("outu","嘔吐","haha"),new e("qian","錢","haha"),new e("quantou","拳頭","haha"),new e("shaoerbuyi","少兒不宜","haha"),new e("shayan","傻眼","haha"),new e("shengbing","生病","haha"),new e("tushetou","吐舌頭","haha"),new e("shuijiao","睡覺","haha"),new e("sikao","思考","haha"),new e("shiwang","失望","haha"),new e("taikaixin","太開心","haha"),new e("tear","流淚","haha"),new e("tianping","舔屏","haha"),new e("xu","噓","haha"),new e("youhengheng","右哼哼","haha"),new e("yun","暈","haha"),new e("zhouma","咒罵","haha"),new e("zhuakuang","抓狂","haha"),new e("zuohengheng","左哼哼","haha"),new e("zuoyi","作揖","haha")],o=[new e("baiyan","白眼","bilibili",{"animation-duration":"1800ms","animation-timing-function":"steps(45)",transform:"translateY(-1408px)",height:"1440px"}),new e("fadai","發呆","bilibili",{"animation-duration":"1080ms","animation-timing-function":"steps(27)",transform:"translateY(-832px)",height:"864px"}),new e("koubi","摳鼻","bilibili",{"animation-duration":"1200ms","animation-timing-function":"steps(30)",transform:"translateY(-928px)",height:"960px"}),new e("qinqin","親親","bilibili",{"animation-duration":"280ms","animation-timing-function":"steps(7)",transform:"translateY(-192px)",height:"224px"}),new e("weiqu","委屈","bilibili",{"animation-duration":"800ms","animation-timing-function":"steps(20)",transform:"translateY(-608px)",height:"640px"}),new e("bishi","鄙視","bilibili",{"animation-duration":"360ms","animation-timing-function":"steps(9)",transform:"translateY(-256px)",height:"288px"}),new e("fanu","發怒","bilibili",{"animation-duration":"1320ms","animation-timing-function":"steps(33)",transform:"translateY(-1024px)",height:"1056px"}),new e("kun","困","bilibili",{"animation-duration":"1760ms","animation-timing-function":"steps(44)",transform:"translateY(-1376px)",height:"1408px"}),new e("se","色","bilibili",{"animation-duration":"400ms","animation-timing-function":"steps(10)",transform:"translateY(-288px)",height:"320px"}),new e("weixiao","微笑","bilibili",{"animation-duration":"800ms","animation-timing-function":"steps(20)",transform:"translateY(-608px)",height:"640px"}),new e("bizui","閉嘴","bilibili",{"animation-duration":"1240ms","animation-timing-function":"steps(31)",transform:"translateY(-960px)",height:"992px"}),new e("ganga","尷尬","bilibili",{"animation-duration":"1520ms","animation-timing-function":"steps(38)",transform:"translateY(-1184px)",height:"1216px"}),new e("lengmo","冷漠","bilibili",{"animation-duration":"40ms","animation-timing-function":"steps(1)",transform:"translateY(-0px)",height:"32px"}),new e("shengbing","生病","bilibili",{"animation-duration":"1400ms","animation-timing-function":"steps(35)",transform:"translateY(-1088px)",height:"1120px"}),new e("wunai","無奈","bilibili",{"animation-duration":"920ms","animation-timing-function":"steps(23)",transform:"translateY(-704px)",height:"736px"}),new e("chan","饞","bilibili",{"animation-duration":"1600ms","animation-timing-function":"steps(40)",transform:"translateY(-1248px)",height:"1280px"}),new e("guilian","鬼臉","bilibili",{"animation-duration":"40ms","animation-timing-function":"steps(1)",transform:"translateY(-0px)",height:"32px"}),new e("liubixue","流鼻血","bilibili",{"animation-duration":"1400ms","animation-timing-function":"steps(35)",transform:"translateY(-1088px)",height:"1120px"}),new e("shengqi","生氣","bilibili",{"animation-duration":"440ms","animation-timing-function":"steps(11)",transform:"translateY(-320px)",height:"352px"}),new e("xiaoku","笑哭","bilibili",{"animation-duration":"600ms","animation-timing-function":"steps(15)",transform:"translateY(-448px)",height:"480px"}),new e("daku","大哭","bilibili",{"animation-duration":"320ms","animation-timing-function":"steps(8)",transform:"translateY(-224px)",height:"256px"}),new e("guzhang","鼓掌","bilibili",{"animation-duration":"680ms","animation-timing-function":"steps(17)",transform:"translateY(-512px)",height:"544px"}),new e("liuhan","流汗","bilibili",{"animation-duration":"1080ms","animation-timing-function":"steps(27)",transform:"translateY(-832px)",height:"864px"}),new e("shuizhao","睡著","bilibili",{"animation-duration":"960ms","animation-timing-function":"steps(24)",transform:"translateY(-736px)",height:"768px"}),new e("xieyanxiao","斜眼笑","bilibili",{"animation-duration":"320ms","animation-timing-function":"steps(8)",transform:"translateY(-224px)",height:"256px"}),new e("dalao","大佬","bilibili",{"animation-duration":"1320ms","animation-timing-function":"steps(33)",transform:"translateY(-1024px)",height:"1056px"}),new e("haixiu","害羞","bilibili",{"animation-duration":"1240ms","animation-timing-function":"steps(31)",transform:"translateY(-960px))",height:"992px"}),new e("liulei","流淚","bilibili",{"animation-duration":"40ms","animation-timing-function":"steps(1)",transform:"translateY(-0px)",height:"32px"}),new e("sikao","思考","bilibili",{"animation-duration":"1440ms","animation-timing-function":"steps(36)",transform:"translateY(-1120px)",height:"1152px"}),new e("yiwen","疑問","bilibili",{"animation-duration":"840ms","animation-timing-function":"steps(21)",transform:"translateY(-640px)",height:"672px"}),new e("dalian","打臉","bilibili",{"animation-duration":"1480ms","animation-timing-function":"steps(37)",transform:"translateY(-1152px)",height:"1184px"}),new e("heirenwenhao","黑人問號","bilibili",{"animation-duration":"1040ms","animation-timing-function":"steps(26)",transform:"translateY(-800px)",height:"832px"}),new e("miantian","靦腆","bilibili",{"animation-duration":"1120ms","animation-timing-function":"steps(28)",transform:"translateY(-864px)",height:"896px"}),new e("tiaokan","調侃","bilibili",{"animation-duration":"40ms","animation-timing-function":"steps(1)",transform:"translateY(-0px)",height:"32px"}),new e("yun","暈","bilibili",{"animation-duration":"480ms","animation-timing-function":"steps(12)",transform:"translateY(-352px)",height:"384px"}),new e("dianzan","點贊","bilibili",{"animation-duration":"800ms","animation-timing-function":"steps(20)",transform:"translateY(-608px)",height:"640px"}),new e("huaixiao","壞笑","bilibili",{"animation-duration":"1240ms","animation-timing-function":"steps(31)",transform:"translateY(-960px)",height:"992px"}),new e("mudengkoudai","目瞪口呆","bilibili",{"animation-duration":"40ms","animation-timing-function":"steps(1)",transform:"translateY(-0px)",height:"32px"}),new e("tiaopi","調皮","bilibili",{"animation-duration":"2000ms","animation-timing-function":"steps(50)",transform:"translateY(-1568px)",height:"1600px"}),new e("zaijian","再見","bilibili",{"animation-duration":"960ms","animation-timing-function":"steps(24)",transform:"translateY(-736px)",height:"768px"}),new e("doge","狗頭","bilibili",{"animation-duration":"800ms","animation-timing-function":"steps(20)",transform:"translateY(-608px)",height:"640px"}),new e("jingxia","驚嚇","bilibili",{"animation-duration":"1280ms","animation-timing-function":"steps(32)",transform:"translateY(-992px)",height:"1024px"}),new e("nanguo","難過","bilibili",{"animation-duration":"1120ms","animation-timing-function":"steps(28)",transform:"translateY(-864px)",height:"896px"}),new e("touxiao","偷笑","bilibili",{"animation-duration":"240ms","animation-timing-function":"steps(6)",transform:"translateY(-160px)",height:"192px"}),new e("zhoumei","皺眉","bilibili",{"animation-duration":"40ms","animation-timing-function":"steps(1)",transform:"translateY(-0px)",height:"32px"}),new e("facai","發財","bilibili",{"animation-duration":"1200ms","animation-timing-function":"steps(30)",transform:"translateY(-928px)",height:"960px"}),new e("keai","可愛","bilibili",{"animation-duration":"680ms","animation-timing-function":"steps(17)",transform:"translateY(-512px)",height:"544px"}),new e("outu","嘔吐","bilibili",{"animation-duration":"1680ms","animation-timing-function":"steps(42)",transform:"translateY(-1312px)",height:"1344px"}),new e("tuxue","吐血","bilibili",{"animation-duration":"320ms","animation-timing-function":"steps(8)",transform:"translateY(-224px)",height:"256px"}),new e("zhuakuang","抓狂","bilibili",{"animation-duration":"760ms","animation-timing-function":"steps(19)",transform:"translateY(-576px)",height:"608px"})],r=[new e("tongue","吐舌","tieba"),new e("theblackline","尷尬","tieba"),new e("tear","大哭","tieba"),new e("surprised","驚哭","tieba"),new e("surprised2","驚訝","tieba"),new e("spray","噴","tieba"),new e("spit","嘔吐","tieba"),new e("smilingeyes","笑眼","tieba"),new e("shui","睡覺","tieba"),new e("shame","羞辱","tieba"),new e("se","色","tieba"),new e("rmb","錢","tieba"),new e("reluctantly","勉強","tieba"),new e("rbq","觀望","tieba"),new e("niconiconi","愛你","tieba"),new e("naive","天真","tieba"),new e("ku","酷","tieba"),new e("huaji","滑稽","tieba"),new e("hu","呼","tieba"),new e("han","汗","tieba"),new e("haha","哈哈","tieba"),new e("good","棒","tieba"),new e("doubt","疑惑","tieba"),new e("britan","茶","tieba"),new e("bbd","棒棒噠","tieba"),new e("awesome","強","tieba"),new e("anger","憤怒","tieba"),new e("aa","啊啊","tieba"),new e("happy","高興","tieba"),new e("grievance","鬱悶","tieba")],e=[new e("(⌒▽⌒)","(⌒▽⌒)","menhera"),new e("(￣▽￣)","(￣▽￣)","menhera"),new e("(=・ω・=)","(=・ω・=)","menhera"),new e("(｀・ω・´)","(｀・ω・´)","menhera"),new e("(〜￣△￣)〜","(〜￣△￣)〜","menhera"),new e("(･∀･)","(･∀･)","menhera"),new e("(°∀°)ﾉ","(°∀°)ﾉ","menhera"),new e("(￣3￣)","(￣3￣)","menhera"),new e("╮(￣▽￣)╭","╮(￣▽￣)╭","menhera"),new e("(´_ゝ｀)","(´_ゝ｀)","menhera"),new e("←_←","←_←","menhera"),new e("→_→","→_→","menhera"),new e("(<_<)","(<_<)","menhera"),new e("(>_>)","(>_>)","menhera"),new e("(;¬_¬)","(;¬_¬)","menhera"),new e("(▔□▔)/","(▔□▔)/","menhera"),new e("(ﾟДﾟ≡ﾟдﾟ)!?","(ﾟДﾟ≡ﾟдﾟ)!?","menhera"),new e("Σ(ﾟдﾟ;)","Σ(ﾟдﾟ;)","menhera"),new e("Σ(￣□￣||)","Σ(￣□￣||)","menhera"),new e("(’；ω；‘)","(’；ω；‘)","menhera"),new e("（/TДT)/","（/TДT)/","menhera"),new e("(^・ω・^ )","(^・ω・^ )","menhera"),new e("(｡･ω･｡)","(｡･ω･｡)","menhera"),new e("(●￣(ｴ)￣●)","(●￣(ｴ)￣●)","menhera"),new e("ε=ε=(ノ≧∇≦)ノ","ε=ε=(ノ≧∇≦)ノ","menhera"),new e("(’･_･‘)","(’･_･‘)","menhera"),new e("(-_-#)","(-_-#)","menhera"),new e("（￣へ￣）","（￣へ￣）","menhera"),new e("(￣ε(#￣)Σ","(￣ε(#￣)Σ","menhera"),new e("ヽ(‘Д’)ﾉ","ヽ(‘Д’)ﾉ","menhera"),new e("（#-_-)┯━┯","（#-_-)┯━┯","menhera"),new e("(╯°口°)╯(┴—┴","(╯°口°)╯(┴—┴","menhera"),new e("←◡←","←◡←","menhera"),new e("( ♥д♥)","( ♥д♥)","menhera"),new e("_(:3」∠)_","_(:3」∠)_","menhera"),new e("Σ>―(〃°ω°〃)♡→","Σ>―(〃°ω°〃)♡→","menhera"),new e("⁄(⁄ ⁄•⁄ω⁄•⁄ ⁄)⁄","⁄(⁄ ⁄•⁄ω⁄•⁄ ⁄)⁄","menhera"),new e("(╬ﾟдﾟ)▄︻┻┳═一","(╬ﾟдﾟ)▄︻┻┳═一","menhera"),new e("･*･:≡(　ε:)","･*･:≡(　ε:)","menhera"),new e("(笑)","(笑)","menhera"),new e("(汗)","(汗)","menhera"),new e("(泣)","(泣)","menhera"),new e("(苦笑)","(苦笑)","menhera")],s=[].concat(t,o,r,e),h={_version:"1.0.0",isMobile:function(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))},timeAgo:function(n){if(!n)return"未知時間";n=new Date(n).getTime();var i,a,e=(new Date).getTime()-n,t=Math.floor(e/864e5);return 0===t?(e=e%864e5,0===(i=Math.floor(e/36e5))?(e=e%36e5,0===(a=Math.floor(e/6e4))?(e=Math.round(e%6e4/1e3))<1?"剛剛":e+" 秒前":a+" 分鐘前"):i+" 小時前"):t<0?"剛剛":1===t?"昨天":h.formatDate(n,"yyyy年MM月dd日 hh:mm")},formatDate:function(n){var i,a,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd",t=(n=new Date(n),/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length))),{"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds()});for(i in t)new RegExp("(".concat(i,")")).test(e)&&(a=t[i]+"",e=e.replace(RegExp.$1,1===RegExp.$1.length?a:a.padStart(2,"0")));return e},getNavLangSub:function(){var n=navigator.language;return n=(n=n.substr(0,2))?n:navigator.browserLanguage},getUrlParams:function(){var n=location.search,n=(n="string"!=typeof n?n.toString():n).replace(/^[^\?]*\?/i,"").split(/&/),a={};return n.length<1||Array.isArray(n)&&n.forEach(function(n){if(!n)return!1;var i,n=n.split(/=/);2<=n.length&&(i=n.splice(0,1),a[i]=n.join("="))}),a},request:function(n){var i=n.url,e=void 0===i?"":i,i=n.method,t=void 0===i?"GET":i,o=n.data,i=n.headers,r=void 0===i?{}:i,i=n.timeout,s=void 0===i?1e4:i,i=n.returnRaw,h=void 0!==i&&i;return new Promise(function(i,a){t=t.toUpperCase(),$.ajax({url:"".concat(e).concat("GET"===t?"".concat(-1===e.indexOf("?")?"?":"&","_r=").concat(Date.now()):""),type:t,headers:m({"API-Authorization":ThemeConfig.access_key||"joe2.0"},r),async:!0,dataType:"json",timeout:s,data:o,success:function(n){h?i(n):200===n.status?i(n.data||""):a(n)},error:function(n){n=n&&n.responseJSON?n.responseJSON.message:"出錯了！";Qmsg.error(n),a(n)}})})},throttle:function(e){var t,o,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:250;return function(){var n=this,i=Array.prototype.slice.call(arguments),a=Date.now();o&&a<o+r?(clearTimeout(t),t=null,t=setTimeout(function(){o=a,e.apply(n,i)},r)):(o=a,e.apply(n,i))}},sleep:function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:250;return new Promise(function(n){return setTimeout(n,i)})},setCookie:function(n,i,a){var e,n=n+h._version,t="";a&&((e=new Date).setTime(e.getTime()+24*a*60*60*1e3),t="; expires="+e.toUTCString()),document.cookie=n+"="+(i||"")+t+"; path=/"},getCookie:function(n){for(var i=n+h._version+"=",a=document.cookie.split(";"),e=0;e<a.length;e++){for(var t=a[e];" "==t.charAt(0);)t=t.substring(1,t.length);if(0==t.indexOf(i))return t.substring(i.length,t.length)}return null},removeCookie:function(n){n=n+h._version+"=";document.cookie=n+"=; Max-Age=-99999999;"},setLocalStorage:(a=function(n,i){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:3600,e=n+h._version,t=new Date;try{localStorage.setItem(e,JSON.stringify({expires:t.valueOf()+1e3*a,data:i}))}catch(e){"QuotaExceededError"===e.name&&(console.log("資料已滿，自動清空"),localStorage.clear(),setLocalStorage(n,i,a))}},u.toString=function(){return a.toString()},u),getLocalStorage:function(n){var n=n+h._version,i=JSON.parse(localStorage.getItem(n)),a=new Date;return i&&i.expires>a?i.data:(localStorage.removeItem(n),null)},removeLocalStorage:function(n){n+=h._version;localStorage.removeItem(n)},loadJS:function(n,i){h._loadRes("script",n,i)},loadCSS:function(n,i){h._loadRes("link",n,i)},_loadRes:function(n,i,a){var e,t=a||function(){};switch(n){case"script":(e=document.createElement(n)).type="text/javascript",e.src=i;break;case"link":(e=document.createElement(n)).type="text/css",e.type="stylesheet",e.href=i;break;default:return void console.warn("暫不支援："+n+" 型別")}e.readyState?e.onreadystatechange=function(){"loaded"!=e.readyState&&"complete"!=e.readyState||(e.onreadystatechange=null,t())}:e.onload=function(){t()},document.getElementsByTagName("head")[0].appendChild(e)},getRandomColor:function(){var n=(n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)||0,i=(i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)||0;return n=isNaN(n)?0:Number(n),i=isNaN(i)?1:Number(i),n=Math.min(Math.max(Math.abs(n),0),1),i=(i=Math.min(Math.max(Math.abs(i),0),1))<n?1:i,"#"+(i=(16777216*(Math.random()*(i-n)+n)<<0).toString(16),new Array(7-i.length).join("0")+i)},removeClassByPrefix:function(n,i){var a=n.className.split(" ").filter(function(n){return 0!==n.lastIndexOf(i,0)});n.className=a.join(" ").trim()},renderedEmojiHtml:function(n){var i=new DOMParser;return h.removeNotEmoji(i.parseFromString(n,"text/html")).body.innerHTML},trimTailBr:function(n){return n.replace(/((\s|&nbsp;)*\r?\n)+$/g,"")},limitBr:function(n){return n.replace(/((\s|&nbsp;)*\r?\n){3,}/g,"")},trimHeadBr:function(n){return n.replace(/^((\s|&nbsp;)*\r?\n)+/g,"")},removeNotEmoji:function(n){for(var i,a,e=n.getElementsByClassName("emoji-img"),t=!0,o=0;o<e.length;o++){var r=e[o].dataset.icon;if(!h.findEmoji("tieba",r)&&!h.findEmoji("haha",r)){t=!1;break}}return t?n:(a=(i=e[0]).dataset.icon,h.findEmoji("tieba",a)||h.findEmoji("haha",a)||h.removeNode(i),h.removeNotEmoji(n))},removeNode:function(n){var i=n.getAttribute("alt"),i=document.createTextNode(i);n.parentNode.replaceChild(i,n)},findEmoji:function(i,a){return 0<s.filter(function(n){return n.category===i&&n.name===a}).length},return2Br:function(n){return n=h.trimHeadBr(n),n=h.trimTailBr(n),h.limitBr(n)}};function u(n,i){return a.apply(this,arguments)}window.Utils=h})();